name: homelab
description: My homelab IaC configuration
runtime:
  name: python
  options:
    virtualenv: .venv
    typechecker: mypy
config:
  pulumi:tags:
    value:
      pulumi:template: python
  docker:
    value:
      platform: amd64
      images:
        tailscale:
          repo: tailscale/tailscale
          tag: "v1.78.3"
      volumes:
        local:
          tailscale-data: {}
      services:
        tailscale:
          containers:
            tailscale:
              image: tailscale
              tmpfs: {}
              volumes:
                tailscale-data: /var/lib/tailscale
              envs:
                TS_STATE_DIR:
                  volume: tailscale-data
                TS_USERSPACE: "false"
                TS_AUTH_ONCE: "true"
