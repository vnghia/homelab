apiVersion: dashboard.grafana.app/v2beta1
kind: Dashboard
metadata:
  name: docker
spec:
  annotations:
    - kind: AnnotationQuery
      spec:
        builtIn: true
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        query:
          datasource:
            name: "-- Grafana --"
          group: grafana
          kind: DataQuery
          spec: {}
          version: v0
  cursorSync: "Off"
  editable: false
  elements:
    container-count:
      kind: Panel
      spec:
        id: 0
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: &datasource
                      name:
                        secret: openobserve-prometheus-datasource-uid
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: count(container_last_seen{host="$host", name!=""})
                      format: time_series
                      instant: false
                      legendFormat: "{{host}}: Containers"
                    version: v0
                  refId: Containers
            queryOptions: {}
            transformations: []
        description: Total number of running containers last seen by the exporter.
        links: []
        title: Containers
        vizConfig:
          group: stat
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  fixedColor: text
                  mode: fixed
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
            options:
              colorMode: value
              graphMode: area
              justifyMode: auto
              orientation: auto
              percentChangeColorMode: standard
              reduceOptions:
                calcs:
                  - lastNotNull
                fields: ""
                values: false
              showPercentChange: false
              textMode: auto
              wideLayout: true
    image-count:
      kind: Panel
      spec:
        id: 1
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: count (sum by (image) (container_last_seen{host="$host", name!=""}))
                      format: time_series
                      instant: false
                      legendFormat: "{{host}}: Images"
                    version: v0
                  refId: Images
            queryOptions: {}
            transformations: []
        description: Total number of distinct images found across running containers.
        links: []
        title: Images
        vizConfig:
          group: stat
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  fixedColor: text
                  mode: fixed
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
            options:
              colorMode: value
              graphMode: area
              justifyMode: auto
              orientation: auto
              percentChangeColorMode: standard
              reduceOptions:
                calcs:
                  - lastNotNull
                fields: ""
                values: false
              showPercentChange: false
              textMode: auto
              wideLayout: true
    total-cpu-usage:
      kind: Panel
      spec:
        id: 2
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        avg by (name) (rate(container_cpu_usage_seconds_total{host="$host", name!=""}[$__rate_interval])) * 100
                        / on() group_left()
                        count (node_cpu_frequency_max_hertz{host="$host"})
                      format: time_series
                      instant: false
                      legendFormat: "{{host}}"
                    version: v0
                  refId: CPU usage
            queryOptions: {}
            transformations:
              - kind: calculateField
                spec:
                  id: calculateField
                  options:
                    mode: reduceRow
                    reduce:
                      reducer: sum
                    replaceFields: true
        description: >
          Total CPU utilization percent is a metric that indicates the overall
          level of central processing unit (CPU) usage in a computer system.

          It represents the combined load placed on all CPU cores or processors.


          For instance, if the total CPU utilization percent is 50%, it means
          that,

          on average, half of the CPU's processing capacity is being used to
          execute tasks. A higher percentage indicates that the CPU is working
          more intensively, potentially leading to system slowdowns if it
          remains consistently high.
        links: []
        title: CPU usage
        vizConfig:
          group: stat
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  fixedColor: text
                  mode: continuous-BlYlRd
                decimals: 1
                max: 100
                min: 0
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: percent
            options:
              colorMode: value
              graphMode: area
              justifyMode: auto
              orientation: auto
              percentChangeColorMode: standard
              reduceOptions:
                calcs:
                  - lastNotNull
                fields: ""
                values: false
              showPercentChange: false
              textMode: auto
              wideLayout: true
    total-memory-reserved:
      kind: Panel
      spec:
        id: 3
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        (sum (container_spec_memory_reservation_limit_bytes{host="$host", name!=""})
                        /
                        sum (node_memory_memtotal_bytes{host="$host"})) * 100
                      format: time_series
                      instant: false
                      legendFormat: "{{host}}: Memory reserved"
                    version: v0
                  refId: Memory reserved
            queryOptions: {}
            transformations: []
        description: Memory reserved by the containers on the machine.
        links: []
        title: Memory reserved
        vizConfig:
          group: stat
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  fixedColor: text
                  mode: continuous-BlYlRd
                decimals: 1
                max: 100
                min: 0
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: percent
            options:
              colorMode: value
              graphMode: area
              justifyMode: auto
              orientation: auto
              percentChangeColorMode: standard
              reduceOptions:
                calcs:
                  - lastNotNull
                fields: ""
                values: false
              showPercentChange: false
              textMode: auto
              wideLayout: true
    total-memory-usage:
      kind: Panel
      spec:
        id: 4
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        (sum (container_memory_working_set_bytes{host="$host", name!=""})
                        /
                        sum (node_memory_memtotal_bytes{host="$host"})) * 100
                      format: time_series
                      instant: false
                      legendFormat: "{{host}}: Memory used"
                    version: v0
                  refId: Memory used
            queryOptions: {}
            transformations: []
        description: Memory used by all containers out of machine total.
        links: []
        title: Memory used
        vizConfig:
          group: stat
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  fixedColor: text
                  mode: continuous-BlYlRd
                decimals: 1
                max: 100
                min: 0
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: percent
            options:
              colorMode: value
              graphMode: area
              justifyMode: auto
              orientation: auto
              percentChangeColorMode: standard
              reduceOptions:
                calcs:
                  - lastNotNull
                fields: ""
                values: false
              showPercentChange: false
              textMode: auto
              wideLayout: true
    cpu-by-container:
      kind: Panel
      spec:
        id: 5
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        rate(container_cpu_usage_seconds_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name"}[$__rate_interval]) * 100
                        / on() group_left()
                        count (node_cpu_frequency_max_hertz{host="$host"})
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}"
                    version: v0
                  refId: CPU usage
            queryOptions: {}
            transformations: []
        description: CPU time consumed in seconds by container.
        links: []
        title: CPU usage
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ""
                  axisPlacement: auto
                  axisSoftMax: 100
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: off
                min: 0
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
              overrides:
                - matcher:
                    id: byFrameRefID
                    options: CPU usage
                  properties:
                    - id: unit
                      value: percent
            options:
              legend:
                calcs:
                  - mean
                  - max
                displayMode: table
                placement: bottom
                showLegend: true
                sortBy: Mean
                sortDesc: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
    memory-by-container:
      kind: Panel
      spec:
        id: 6
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: container_memory_working_set_bytes{host="$host", service=~"$service", alias=~"$alias", name=~"$name"}
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}"
                    version: v0
                  refId: Memory usage
            queryOptions: {}
            transformations: []
        description:
          Current memory usage in bytes, including all memory regardless of
          when it was accessed by container.
        links: []
        title: Memory usage
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ""
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: off
                min: 0
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: bytes
            options:
              legend:
                calcs:
                  - mean
                  - max
                displayMode: table
                placement: bottom
                showLegend: true
                sortBy: Mean
                sortDesc: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
    network-by-container:
      kind: Panel
      spec:
        id: 7
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_network_receive_bytes_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name", network_mode="bridge"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{interface}} receive"
                    version: v0
                  refId: received
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_network_transmit_bytes_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name", network_mode="bridge"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{interface}} transmit"
                    version: v0
                  refId: transmitted
            queryOptions: {}
            transformations: []
        description: Network traffic (bytes per sec) measures data transmitted and received.
        links: []
        title: Network traffic
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: true
                  axisColorMode: text
                  axisLabel: out(-) | in(+)
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: off
                decimals: 1
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: binBps
              overrides:
                - matcher:
                    id: byRegexp
                    options: /transmit|tx|out/
                  properties:
                    - id: custom.transform
                      value: negative-Y
            options:
              legend:
                calcs:
                  - mean
                  - max
                displayMode: table
                placement: bottom
                showLegend: true
                sortBy: Mean
                sortDesc: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
    network-error-by-container:
      kind: Panel
      spec:
        id: 8
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_network_receive_packets_dropped_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name", network_mode="bridge"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{interface}} rx drops"
                    version: v0
                  refId: drops received
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_network_transmit_packets_dropped_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name", network_mode="bridge"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{interface}} tx drops"
                    version: v0
                  refId: drops transmitted
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_network_receive_errors_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name", network_mode="bridge"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{interface}} rx errors"
                    version: v0
                  refId: errors received
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_network_transmit_errors_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name", network_mode="bridge"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{interface}} tx errors"
                    version: v0
                  refId: errors transmitted
            queryOptions: {}
            transformations: []
        description: >
          Network errors refer to issues that occur during the transmission of
          data across a network. 


          These errors can result from various factors, including physical
          issues, jitter, collisions, noise and interference.


          Monitoring network errors is essential for diagnosing and resolving
          issues, as they can indicate problems with network hardware or
          environmental factors affecting network quality.
        links: []
        title: Network errors and drops
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ""
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: off
                decimals: 1
                noValue: No errors
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: pps
              overrides:
                - matcher:
                    id: byFrameRefID
                    options: drops received
                  properties:
                    - id: unit
                      value: pps
                - matcher:
                    id: byFrameRefID
                    options: drops transmitted
                  properties:
                    - id: unit
                      value: pps
                - matcher:
                    id: byFrameRefID
                    options: errors received
                  properties:
                    - id: unit
                      value: pps
                - matcher:
                    id: byFrameRefID
                    options: errors transmitted
                  properties:
                    - id: unit
                      value: pps
            options:
              legend:
                calcs:
                  - mean
                  - max
                displayMode: table
                placement: bottom
                showLegend: true
                sortBy: Mean
                sortDesc: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
    disk-usage-by-container:
      kind: Panel
      spec:
        id: 9
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: container_fs_usage_bytes{host="$host", service=~"$service", alias=~"$alias", name=~"$name"}
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{device}}"
                    version: v0
                  refId: Disk space usage
            queryOptions: {}
            transformations: []
        description: >
          Disk space usage is the amount of storage being used on a device's
          hard drive or storage medium, in bytes.
        links: []
        title: Disk usage
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ""
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 1
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: none
                  thresholdsStyle:
                    mode: off
                min: 0
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: bytes
            options:
              legend:
                calcs:
                  - mean
                  - max
                displayMode: table
                placement: bottom
                showLegend: true
                sortBy: Mean
                sortDesc: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
    disk-io-by-container:
      kind: Panel
      spec:
        id: 10
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_fs_reads_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{device}} read"
                    version: v0
                  refId: Disk reads
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource: *datasource
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: rate(container_fs_writes_total{host="$host", service=~"$service", alias=~"$alias", name=~"$name"}[$__rate_interval])
                      format: time_series
                      instant: false
                      legendFormat: "{{name}}/{{device}} write"
                    version: v0
                  refId: Disk writes
            queryOptions: {}
            transformations: []
        description: The number of I/O requests per second for the device/volume.
        links: []
        title: Disk I/O
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: true
                  axisColorMode: text
                  axisLabel: write(-) | read(+)
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 1
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: none
                  thresholdsStyle:
                    mode: off
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: iops
              overrides:
                - matcher:
                    id: byRegexp
                    options: /write|written/
                  properties:
                    - id: custom.transform
                      value: negative-Y
                - matcher:
                    id: byFrameRefID
                    options: Disk reads
                  properties:
                    - id: unit
                      value: reqps
                - matcher:
                    id: byFrameRefID
                    options: Disk writes
                  properties:
                    - id: unit
                      value: reqps
            options:
              legend:
                calcs:
                  - mean
                  - max
                displayMode: table
                placement: bottom
                showLegend: true
                sortBy: Mean
                sortDesc: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
  layout:
    kind: RowsLayout
    spec:
      rows:
        - kind: RowsLayoutRow
          spec:
            collapse: false
            layout:
              kind: GridLayout
              spec:
                items:
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: container-count
                      height: 4
                      width: 4
                      x: 0
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: image-count
                      height: 4
                      width: 4
                      x: 4
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: total-cpu-usage
                      height: 4
                      width: 4
                      x: 8
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: total-memory-reserved
                      height: 4
                      width: 4
                      x: 12
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: total-memory-usage
                      height: 4
                      width: 4
                      x: 16
                      y: 0
            title: Overview
        - kind: RowsLayoutRow
          spec:
            collapse: false
            layout:
              kind: GridLayout
              spec:
                items:
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: cpu-by-container
                      height: 10
                      width: 12
                      x: 0
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: memory-by-container
                      height: 10
                      width: 12
                      x: 12
                      y: 0
            title: Compute
        - kind: RowsLayoutRow
          spec:
            collapse: false
            layout:
              kind: GridLayout
              spec:
                items:
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: network-by-container
                      height: 10
                      width: 12
                      x: 0
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: network-error-by-container
                      height: 10
                      width: 12
                      x: 12
                      y: 0
            title: Network
        - kind: RowsLayoutRow
          spec:
            collapse: false
            layout:
              kind: GridLayout
              spec:
                items:
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: disk-usage-by-container
                      height: 10
                      width: 12
                      x: 0
                      y: 0
                  - kind: GridLayoutItem
                    spec:
                      element:
                        kind: ElementReference
                        name: disk-io-by-container
                      height: 10
                      width: 12
                      x: 12
                      y: 0
            title: Storage
  links: []
  liveNow: false
  preload: false
  timeSettings:
    autoRefresh: 30s
    autoRefreshIntervals:
      - 15s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
    fiscalYearStartMonth: 0
    from: now-1h
    hideTimepicker: false
    timezone: browser
    to: now
  title: Docker
  variables:
    - kind: QueryVariable
      spec:
        name: host
        current:
          text: sun
          value: sun
        label: Host
        hide: dontHide
        refresh: onDashboardLoad
        options: []
        query:
          datasource: *datasource
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: label_values(container_last_seen, host)
          version: v0
        regex: ""
        regexApplyTo: value
        sort: alphabeticalAsc
        multi: false
        includeAll: false
        allowCustomValue: false
    - kind: QueryVariable
      spec:
        name: service
        includeAll: true
        allValue: .+
        current:
          text: All
          value: $__all
        label: Service
        hide: dontHide
        refresh: onTimeChanged
        options: []
        query:
          datasource: *datasource
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: label_values(container_last_seen{host="$host"}, service)
          version: v0
        regex: ""
        regexApplyTo: value
        sort: alphabeticalAsc
        multi: true
        allowCustomValue: false
    - kind: QueryVariable
      spec:
        name: alias
        includeAll: true
        allValue: .+
        current:
          text: All
          value: $__all
        label: Alias
        hide: dontHide
        refresh: onTimeChanged
        options: []
        query:
          datasource: *datasource
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: label_values(container_last_seen{host="$host", service=~"$service"}, alias)
          version: v0
        regex: ""
        regexApplyTo: value
        sort: alphabeticalAsc
        multi: true
        allowCustomValue: false
    - kind: QueryVariable
      spec:
        name: name
        includeAll: true
        allValue: .+
        current:
          text: Name
          value: $__all
        label: Name
        hide: dontHide
        refresh: onTimeChanged
        options: []
        query:
          datasource: *datasource
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: label_values(container_last_seen{host="$host", service=~"$service", alias=~"$alias"}, name)
          version: v0
        regex: ""
        regexApplyTo: value
        sort: alphabeticalAsc
        multi: true
        allowCustomValue: false
status: {}
